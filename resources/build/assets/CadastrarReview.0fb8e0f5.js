import{o as v,c as _,b as e,e as r,h as u,t as a,w as h,v as s}from"./app.173a6b7c.js";import{_ as m}from"./_plugin-vue_export-helper.cdc0426e.js";const w={data(){return{titulo_principal:"",thumb:"",desc_review:"",rate:"",name_game:"",collection:"",developer:"",owner:"",gender:"",version:"",year:"",erroForm:""}},created(){this.toUpdate&&(this.user.id!=location.pathname.split("/")[3]&&history.back(),this.titulo_principal=this.review[0].name_review,this.thumb=this.review[0].thumb,this.desc_review=this.review[0].desc_review,this.rate=this.review[0].rate,this.name_game=this.review[0].name_game,this.collection=this.review[0].collection,this.developer=this.review[0].developer,this.owner=this.review[0].owner,this.gender=this.review[0].gender,this.version=this.review[0].version,this.year=this.review[0].year)},methods:{transformTextMD(n){let t=document.querySelector("#preview_content");var d=new showdown.Converter;let p=n.target.value;t.innerHTML=d.makeHtml(p)},submitNow(){this.toUpdate?this.sendUpdateReview():this.sendAddReview()},sendAddReview(){let n={titulo_principal:this.titulo_principal,thumb:this.thumb,desc_review:this.desc_review,rate:this.rate,name_game:this.name_game,collection:this.collection,developer:this.developer,owner:this.owner,gender:this.gender,version:this.version,year:this.year,id_user:this.user.id};axios.post("/api/add-review",n).then(t=>{t&&(location.href="/perfil/"+n.id_user)},t=>{this.erroForm=Object.values(t.response.data.errors)[0][0]})},sendUpdateReview(){let n={titulo_principal:this.titulo_principal,thumb:this.thumb,desc_review:this.desc_review,rate:this.rate,name_game:this.name_game,collection:this.collection,developer:this.developer,owner:this.owner,gender:this.gender,version:this.version,year:this.year,id_user:this.user.id,id_review:this.review[0].reviews_id};axios.post("/api/update-review",n).then(t=>{t&&(location.href="/perfil/"+n.id_user)},t=>{this.erroForm=Object.values(t.response.data.errors)[0][0]})}},components:{},props:{user:Object,toUpdate:Boolean,review:Object}},c={class:"container-fluid"},b={id:"cadastrar_review"},x={id:"form_review"},f=e("div",{id:"box_link_voltar"},[e("a",{href:"/perfil/1"},"Voltar")],-1),y={class:"alert alert-danger"},g=e("h2",null,"Adicionar review",-1),U={id:"box_form_review"},V={class:"box_input_review"},F={class:"box_input_review"},k={class:"box_input_review"},N=e("h2",null,"Informa\xE7\xF5es do game",-1),D={class:"box_input_review"},M={class:"box_input_review"},R={class:"box_input_review"},j={class:"box_input_review"},C={class:"box_input_review"},T={class:"box_input_review"},A={class:"box_input_review"},B=e("h2",null,"Nota Final",-1),O={class:"box_input_review"},S=e("div",{id:"box_button_submit_review"},[e("button",{class:"botao_confirmar"}," Cadastrar review ")],-1),q={id:"preview_review"},H=["src"],I=e("div",{id:"preview_content"},null,-1);function L(n,t,d,p,i,l){return v(),_("div",c,[e("div",b,[e("div",x,[f,r(e("div",y,[e("b",null,a(i.erroForm),1)],512),[[u,i.erroForm!==""]]),g,e("div",U,[e("form",{onSubmit:t[12]||(t[12]=h((...o)=>l.submitNow&&l.submitNow(...o),["prevent"]))},[e("div",V,[r(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>i.titulo_principal=o),type:"text",placeholder:"T\xEDtulo principal"},null,512),[[s,i.titulo_principal]])]),e("div",F,[r(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>i.thumb=o),type:"url",placeholder:"Link da imagem de capa"},null,512),[[s,i.thumb]])]),e("div",k,[r(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=o=>i.desc_review=o),type:"text",onInput:t[3]||(t[3]=o=>l.transformTextMD(o)),placeholder:"Conteudo da review (Markdown)"},null,544),[[s,i.desc_review]])]),N,e("div",D,[r(e("input",{"onUpdate:modelValue":t[4]||(t[4]=o=>i.name_game=o),type:"text",placeholder:"Nome do jogo"},null,512),[[s,i.name_game]])]),e("div",M,[r(e("input",{"onUpdate:modelValue":t[5]||(t[5]=o=>i.gender=o),type:"text",placeholder:"G\xEAnero"},null,512),[[s,i.gender]])]),e("div",R,[r(e("input",{"onUpdate:modelValue":t[6]||(t[6]=o=>i.collection=o),type:"text",placeholder:"Franquia"},null,512),[[s,i.collection]])]),e("div",j,[r(e("input",{"onUpdate:modelValue":t[7]||(t[7]=o=>i.developer=o),type:"text",placeholder:"Desenvolvedora"},null,512),[[s,i.developer]])]),e("div",C,[r(e("input",{"onUpdate:modelValue":t[8]||(t[8]=o=>i.owner=o),type:"text",placeholder:"Distribuidora"},null,512),[[s,i.owner]])]),e("div",T,[r(e("input",{"onUpdate:modelValue":t[9]||(t[9]=o=>i.version=o),type:"text",placeholder:"Vers\xE3o"},null,512),[[s,i.version]])]),e("div",A,[r(e("input",{"onUpdate:modelValue":t[10]||(t[10]=o=>i.year=o),type:"text",placeholder:"Ano de lan\xE7amento"},null,512),[[s,i.year]])]),B,e("div",O,[r(e("input",{"onUpdate:modelValue":t[11]||(t[11]=o=>i.rate=o),type:"text",placeholder:"Nota Final"},null,512),[[s,i.rate]])]),S],32)])]),e("div",q,[e("h1",null,a(i.titulo_principal),1),e("img",{src:i.thumb},null,8,H),I])])])}const z=m(w,[["render",L]]);export{z as default};
